<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{layout/base :: layout(~{::content})}">

<div th:fragment="content">
    
    <!-- Header Section -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-8 pb-4 border-b border-gray-200">
        <div class="flex-1 min-w-0">
            <h1 class="text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate">
                Dashboard
            </h1>
        </div>
    </div>

    <!-- SECTION 1: INVENTORY / STOK -->
    <h3 class="text-lg font-medium leading-6 text-gray-900 mb-4">Inventory Roti</h3>
    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-2 mb-8">
        
        <!-- Card 1: Jenis Roti -->
        <div class="bg-white overflow-hidden shadow-sm rounded-lg border-l-4 hover:shadow-md transition-shadow duration-200"
             th:classappend="${jumlahRotiTersedia > 0} ? 'border-blue-500' : 'border-red-500'"> 
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="rounded-md p-3"
                             th:classappend="${jumlahRotiTersedia > 0} ? 'bg-blue-100 text-blue-600' : 'bg-red-100 text-red-600'">
                             <!-- Icon Tag -->
                             <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l7-7A1 1 0 0 0 16 5.586V2a1 1 0 0 0-1-1H2zm9 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dt class="text-sm font-medium text-gray-500 truncate uppercase tracking-wide">
                            Jenis Roti Tersedia
                        </dt>
                        <dd class="mt-1 text-3xl font-bold text-gray-900" th:text="${jumlahRotiTersedia}">
                            0
                        </dd>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-5 py-3 border-t border-gray-100">
                <div class="text-sm flex items-center">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                          th:classappend="${jumlahRotiTersedia > 0} ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800'"
                          th:text="${jumlahRotiTersedia > 0} ? 'Status: Aman' : 'Status: Kritis/Kosong'">
                        Status
                    </span>
                    <span class="text-gray-500 ml-2">Item aktif di katalog</span>
                </div>
            </div>
        </div>

        <!-- Card 2: Total Stok -->
        <div class="bg-white overflow-hidden shadow-sm rounded-lg border-l-4 hover:shadow-md transition-shadow duration-200"
             th:classappend="${totalStok > 10} ? 'border-green-500' : 'border-yellow-500'">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="rounded-md p-3"
                             th:classappend="${totalStok > 10} ? 'bg-green-100 text-green-600' : 'bg-yellow-100 text-yellow-600'">
                            <!-- Icon Box -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.32.32 0 0 1 .051-.019c.012-.002.025-.004.039-.004.014 0 .027.002.04.004.017.004.035.011.052.019l.268.108.01.003 6.941 2.776ZM8 15.633l6.5-2.6V4.312L8 6.912v8.721Zm-6.5-2.6L8 15.633V6.912L1.5 4.312v8.721Z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dt class="text-sm font-medium text-gray-500 truncate uppercase tracking-wide">
                            Total Stok Fisik
                        </dt>
                        <dd class="mt-1 text-3xl font-bold text-gray-900" th:text="${totalStok}">
                            0
                        </dd>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-5 py-3 border-t border-gray-100">
                <div class="text-sm flex items-center">
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                          th:classappend="${totalStok > 10} ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'"
                          th:text="${totalStok > 10} ? 'Stok Melimpah' : 'Stok Menipis'">
                        Updated
                    </span>
                    <span class="text-gray-500 ml-2">Total unit siap jual</span>
                </div>
            </div>
        </div>

    </div>

    <!-- SECTION 2: SUMMARY TRANSAKSI (BARU) -->
    <h3 class="text-lg font-medium leading-6 text-gray-900 mb-4">Performa Penjualan</h3>
    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-2 mb-8">
        
        <!-- Card 3: Total Transaksi -->
        <div class="bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-purple-500 hover:shadow-md transition-shadow duration-200">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="rounded-md p-3 bg-purple-100 text-purple-600">
                            <!-- Icon Receipt -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                        </div>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dt class="text-sm font-medium text-gray-500 truncate uppercase tracking-wide">
                            Total Transaksi
                        </dt>
                        <dd class="mt-1 text-3xl font-bold text-gray-900" th:text="${jumlahTransaksi}">
                            0
                        </dd>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-5 py-3 border-t border-gray-100">
                <div class="text-sm text-gray-500 flex items-center">
                    <svg class="h-4 w-4 mr-1 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span>Jumlah transaksi berhasil tercatat</span>
                </div>
            </div>
        </div>

        <!-- Card 4: Total Pendapatan -->
        <div class="bg-white overflow-hidden shadow-sm rounded-lg border-l-4 border-orange-500 hover:shadow-md transition-shadow duration-200">
            <div class="p-5">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="rounded-md p-3 bg-orange-100 text-orange-600">
                            <!-- Icon Money/Cash -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                    </div>
                    <div class="ml-5 w-0 flex-1">
                        <dt class="text-sm font-medium text-gray-500 truncate uppercase tracking-wide">
                            Total Pendapatan
                        </dt>
                        <dd class="mt-1 text-3xl font-bold text-gray-900">
                            <!-- Format Rupiah -->
                            <span class="text-base font-normal text-gray-500 mr-1">Rp</span><span th:text="${#numbers.formatDecimal(totalPendapatan, 0, 'POINT', 2, 'COMMA')}">0,00</span>
                        </dd>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 px-5 py-3 border-t border-gray-100">
                <div class="text-sm text-gray-500 flex items-center">
                    <svg class="h-4 w-4 mr-1 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    <span>Akumulasi seluruh pemasukan</span>
                </div>
            </div>
        </div>

    </div>

    <!-- Info Area -->
    <div class="bg-white shadow-sm overflow-hidden rounded-lg mt-8 border border-gray-200">
        <div class="px-4 py-5 border-b border-gray-200 sm:px-6 bg-gray-50">
            <h3 class="text-lg leading-6 font-medium text-gray-900">
                Ringkasan Cepat
            </h3>
        </div>
        <div class="px-4 py-5 sm:p-6 text-gray-500">
            <p>Selamat datang di panel admin. Data diperbarui secara otomatis setiap kali halaman dimuat.</p>
        </div>
    </div>

</div>

</html>